#!/bin/sh
export POSIXLY_CORRECT=yes
export LC_NUMERIC=en.US.UTF-8
help_print()
{
    echo ""
    echo "tradelog [-h|--help] [FILTR] [PŘÍKAZ] [LOG [LOG2 [...]]"
    echo "-h|--help   vypsani napovedy"
    echo "tradelog [-h|--help] [FILTR] [PŘÍKAZ] [LOG [LOG2 [...]]"
    echo "[FILTR]"

    echo "[PŘÍKAZ]"

}
PRIKAZ=""
FILES=""
GZ_FILES="" 
while [ "$#" -gt 0 ] 
do
    case "$1" in
        -h|--help)
            help_print
            exit 0
            ;;
        list-tick)
            PRIKAZ="list-tick"
            shift
            ;;
        -w)
            WIDTH="$2"
            shift
            shift
            ;;
        profit)
            PRIKAZ="profit"
            shift
            ;;
        *)
            case "$1" in 
                *.gz*)
                    echo GZ
                    GZ_FILES=" $1 $GZ_FILES"
                     ;;
                *)
                echo "normal file"
                FILES="$1"
            esac    
            shift
            ;;
    esac
done
if [ "$FILES" = "" ]; then  #pokud je neni zadany soubor cti z toho co ti zada
    while read -r line
    do 
    echo "$line"
    done < "${1:-/dev/stdin}"   
    exit 1
fi
TICKERS="" # LIST TICK VYPIS
if [ "$PRIKAZ" = "list-tick" ] 
then
    while IFS= read -r line; do
        NEWTICKER=$(echo "$line" | cut -d ";" -f 2)
        TICKERS="$TICKERS\n$NEWTICKER"
    done < "$FILES"
    echo "$TICKERS" | sort -u 
fi

if [ "$PRIKAZ" = "profit" ] 
then



fi

echo "PRIKAZ $PRIKAZ"
echo "SOUBORY $FILES"
echo "GZ SOUBORY $GZ_FILES"

